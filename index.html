<!doctype html>
<html lang="de">
<meta charset="utf-8" />
<title>Gemma3:1b – Lokal</title>
<body style="font-family:system-ui;max-width:720px;margin:40px auto">
  <h1>Gemma3:1b lokal testen</h1>
  <textarea id="prompt" rows="5" style="width:100%" placeholder="Frag was…"></textarea>
  <br/><button id="send">Senden</button>
  <pre id="out">Bereit…</pre>
  <script>
    const out = document.getElementById('out');
    document.getElementById('send').onclick = async () => {
      out.textContent = 'Denke…';
      const prompt = document.getElementById('prompt').value || 'Sag Hallo in einem Satz.';
  const res = await fetch('/ollama/api/chat', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({
          model: 'gemma3:1b',
          messages: [{role:'user', content: prompt}],
          stream: false
        })
      });
      const data = await res.json();
      out.textContent = data.message?.content ?? JSON.stringify(data, null, 2);
    };
  </script>
</body>
</html>
